{
  "contractName": "RootChain",
  "abi": [
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "headerBlocks",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "start",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "end",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "proposer",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "isOwner",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "VOTE_TYPE",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "heimdallId",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_registry",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_heimdallId",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "proposer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "headerBlockId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "reward",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "start",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "end",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "root",
          "type": "bytes32"
        }
      ],
      "name": "NewHeaderBlock",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "bytes",
          "name": "vote",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "sigs",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "txData",
          "type": "bytes"
        }
      ],
      "name": "submitHeaderBlock",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "uint256",
          "name": "numDeposits",
          "type": "uint256"
        }
      ],
      "name": "updateDepositId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "currentHeaderBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getLastChildBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "slash",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.5.11+commit.c082d0b4\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"constant\":false,\"inputs\":[],\"name\":\"slash\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"headerBlocks\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"root\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"start\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"proposer\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"numDeposits\",\"type\":\"uint256\"}],\"name\":\"updateDepositId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getLastChildBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"VOTE_TYPE\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentHeaderBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"vote\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"sigs\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"txData\",\"type\":\"bytes\"}],\"name\":\"submitHeaderBlock\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"heimdallId\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_registry\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_heimdallId\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"proposer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"headerBlockId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"start\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"end\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"root\",\"type\":\"bytes32\"}],\"name\":\"NewHeaderBlock\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}],\"devdoc\":{\"methods\":{\"isOwner()\":{\"return\":\"true if `msg.sender` is the owner of the contract.\"},\"owner()\":{\"return\":\"the address of the owner.\"},\"renounceOwnership()\":{\"details\":\"Allows the current owner to relinquish control of the contract. It will not be possible to call the functions with the `onlyOwner` modifier anymore.\"},\"transferOwnership(address)\":{\"details\":\"Allows the current owner to transfer control of the contract to a newOwner.\",\"params\":{\"newOwner\":\"The address to transfer ownership to.\"}}}},\"userdoc\":{\"methods\":{\"renounceOwnership()\":{\"notice\":\"Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"}}}},\"settings\":{\"compilationTarget\":{\"/Users/angela/matic/contracts/contracts/root/RootChain.sol\":\"RootChain\"},\"evmVersion\":\"constantinople\",\"libraries\":{},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"/Users/angela/matic/contracts/contracts/common/Registry.sol\":{\"keccak256\":\"0x30ea66346649b9e1f5264290f67e2619e6fb058f3f25a3b4ae9803023a4cdd67\",\"urls\":[\"bzz-raw://adf1d4709d548ed9f9d7873ff453fc7d3e2668364d646c9b2366ba91312a2f5c\",\"dweb:/ipfs/QmadVUhC1npw8BXgcxA1gGPbuAdVov4d5sXW4dBRo2a9C8\"]},\"/Users/angela/matic/contracts/contracts/common/misc/ProxyStorage.sol\":{\"keccak256\":\"0x0648b0e0e84be908da595e3a79baaa978f5b57af15598523b2da9515b128f6fd\",\"urls\":[\"bzz-raw://959f8dd118fb88066825b09ac49b66c04a0442a9420806ff14046ce8ae93f806\",\"dweb:/ipfs/QmfZJPLFUusDdwWZV1pSPL5dab9y8Zzs7sbXgWtDx7mG3C\"]},\"/Users/angela/matic/contracts/contracts/root/IRootChain.sol\":{\"keccak256\":\"0x930b45080e0caccf097e33e3e558b8d31015c42decf0c419bf4bfa76afbdace0\",\"urls\":[\"bzz-raw://21c1382fa51b4a3b5ca8a96f80d35410e50d230353104b8806a73d42b19e2963\",\"dweb:/ipfs/QmZJgDHe1LBvc8cdvK9viU5ujk8ULvcyGKbjcBu6EFXC4V\"]},\"/Users/angela/matic/contracts/contracts/root/RootChain.sol\":{\"keccak256\":\"0x7b4111195d97b5a2a929382b8f68480b2abaf5a765fcc120539e62059f52bc61\",\"urls\":[\"bzz-raw://d0f8ed61684b217a6fd4e0343a9b0df2262d09ebc2d515bb6db9d5101516d8f5\",\"dweb:/ipfs/QmWXw7KijN7v8kdLQDzUrGSnxJujn89qiQ9UEBHahXxHLN\"]},\"/Users/angela/matic/contracts/contracts/root/RootChainStorage.sol\":{\"keccak256\":\"0xb14ba0310cf03d696370316e60ccd21fbe9fbff5a2e48d48e619c0d75e631167\",\"urls\":[\"bzz-raw://b56a12ad678ee472d0856c22ec10c285800f5110bc94fe66e7adb9dca9012ced\",\"dweb:/ipfs/QmY41ZYodQyGvYqj92tx9ux6tqksbcywEQESqHF95n919F\"]},\"/Users/angela/matic/contracts/contracts/root/withdrawManager/IWithdrawManager.sol\":{\"keccak256\":\"0x934dbb0fcfe8b19019fe3829aca9bd7bcf02d928ff0d12ebb29c391f3bd926a7\",\"urls\":[\"bzz-raw://da429a9c82382c35c335c530adea1904ab582b3e95d3fc96c509c8c37caa1375\",\"dweb:/ipfs/QmXo1XjTW2apcKBkFsibzsD9ytvWnd5NLuBYM6sMAJoyaB\"]},\"/Users/angela/matic/contracts/contracts/staking/IStakeManager.sol\":{\"keccak256\":\"0x22f331e8c38096f677c5101dfc60d7c22289e0d21c0bba5bbea91456db9b6fa5\",\"urls\":[\"bzz-raw://60e7732d8b3ae3cdaaff8510878764c9f9db7790530d918d22002f20c3342afd\",\"dweb:/ipfs/QmPuCxVwrjEf1uCMSqLJhwxMkXX1owERGtckHRtVV9GgjG\"]},\"openzeppelin-solidity/contracts/math/SafeMath.sol\":{\"keccak256\":\"0xc2a200a877c4a9b2475c246c54ffecc69ffde3e11af83319c63c2dc5458bac80\",\"urls\":[\"bzz-raw://d6ee2095166a8fc1dbaff1949d786b91b8ef8ce41a7b5801a81dd2453220e770\",\"dweb:/ipfs/QmYBLFvCr9zKndkP8e7nFoKuZGcQEQtbHdwttC1MqckCgv\"]},\"openzeppelin-solidity/contracts/ownership/Ownable.sol\":{\"keccak256\":\"0xcb16adc00dcf0d75e0bdf94379f4d5a6d74dca7c74e4183b94e15721159f8a30\",\"urls\":[\"bzz-raw://e7de373f0bd92068fa1173a1bc2f65e80fdc4d929a339796636f65d6ef901005\",\"dweb:/ipfs/Qme26FWF1Ea8f7snvRo1Q3x6JkqHqoWVqYif3qzDGE8JEC\"]},\"solidity-rlp/contracts/RLPReader.sol\":{\"keccak256\":\"0xe2df62ba34ab569e097c58eee30eb9fdab120d4df1c572c6ceae1bec3faa2c2a\",\"urls\":[\"bzz-raw://46988aac4691b498d4c6983c7617de6d29cd5d7fe4e3ecfb7f8c0d00e33e9a12\",\"dweb:/ipfs/QmdWF9ti9UJSP2E7XYkdUPRV9yfmxEmuRgzpNtt3Ex57Ar\"]}},\"version\":1}",
  "bytecode": "0x6080604052612710600355600160045534801561001b57600080fd5b5060405161122d38038061122d8339818101604052604081101561003e57600080fd5b81516020830180516040519294929383019291908464010000000082111561006557600080fd5b90830190602082018581111561007a57600080fd5b825164010000000081118282018810171561009457600080fd5b82525081516020918201929091019080838360005b838110156100c15781810151838201526020016100a9565b50505050905090810190601f1680156100ee5780820380516001836020036101000a031916815260200191505b506040819052600080546001600160a01b03191633178082556001600160a01b0316945092507f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091508290a3600680546001600160a01b0319166001600160a01b0384161790556040518151829160209081019182918401908083835b6020831061018a5780518252601f19909201916020918201910161016b565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001206002819055505050611051806101dc6000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c8063b87e1b6611610071578063b87e1b661461018b578063d5b844eb14610193578063ec7e4855146101b1578063ec83d3ba146101b9578063f2fde38b146102cd578063fbc3dd36146102f3576100b4565b80632da25de3146100b957806341539d4a146100c35780635391f48314610114578063715018a6146101435780638da5cb5b1461014b5780638f32d59b1461016f575b600080fd5b6100c16102fb565b005b6100e0600480360360208110156100d957600080fd5b50356102fd565b6040805195865260208601949094528484019290925260608401526001600160a01b03166080830152519081900360a00190f35b6101316004803603602081101561012a57600080fd5b5035610335565b60408051918252519081900360200190f35b6100c161046f565b6101536104ca565b604080516001600160a01b039092168252519081900360200190f35b6101776104d9565b604080519115158252519081900360200190f35b6101316104ea565b61019b61050f565b6040805160ff9092168252519081900360200190f35b610131610514565b6100c1600480360360608110156101cf57600080fd5b8101906020810181356401000000008111156101ea57600080fd5b8201836020820111156101fc57600080fd5b8035906020019184600183028401116401000000008311171561021e57600080fd5b91939092909160208101903564010000000081111561023c57600080fd5b82018360208201111561024e57600080fd5b8035906020019184600183028401116401000000008311171561027057600080fd5b91939092909160208101903564010000000081111561028e57600080fd5b8201836020820111156102a057600080fd5b803590602001918460018302840111640100000000831117156102c257600080fd5b509092509050610531565b6100c1600480360360208110156102e357600080fd5b50356001600160a01b03166109f2565b610131610a0f565b565b60056020526000908152604090208054600182015460028301546003840154600490940154929391929091906001600160a01b031685565b6006546040805162c9effd60e41b815290516000926001600160a01b031691630c9effd0916004808301926020929190829003018186803b15801561037957600080fd5b505afa15801561038d573d6000803e3d6000fd5b505050506040513d60208110156103a357600080fd5b50516001600160a01b031633146103eb5760405162461bcd60e51b8152600401808060200182810382526021815260200180610ffc6021913960400191505060405180910390fd5b6104056004546103f9610514565b9063ffffffff610a1516565b60045490915061041b908363ffffffff610a1516565b6004819055612710101561046a576040805162461bcd60e51b8152602060048201526011602482015270544f4f5f4d414e595f4445504f5349545360781b604482015290519081900360640190fd5b919050565b6104776104d9565b61048057600080fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031690565b6000546001600160a01b0316331490565b6000600560006104f8610514565b815260200190815260200160002060020154905090565b600281565b60035460009061052c9061271063ffffffff610a2e16565b905090565b606061057a61057588888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610a4392505050565b610a68565b905060025461059c8260008151811061058f57fe5b6020026020010151610b39565b80519060200120146105eb576040805162461bcd60e51b815260206004820152601360248201527210da185a5b881251081a5cc81a5b9d985b1a59606a1b604482015290519081900360640190fd5b600260ff1661060d8260018151811061060057fe5b6020026020010151610bb2565b14610656576040805162461bcd60e51b8152602060048201526014602482015273159bdd19481d1e5c19481a5cc81a5b9d985b1a5960621b604482015290519081900360640190fd5b600283836040518083838082843760405192019450602093509091505080830381855afa15801561068b573d6000803e3d6000fd5b5050506040513d60208110156106a057600080fd5b505160408051602081810193909352815180820384018152908201909152805191012081516106d6908390600490811061058f57fe5b8051906020012014610727576040805162461bcd60e51b8152602060048201526015602482015274115e1d1c984819185d18481a5cc81a5b9d985b1a59605a1b604482015290519081900360640190fd5b606061076b61057585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610a4392505050565b905061078a8160008151811061077d57fe5b6020026020010151610a68565b9050610794610fa6565b61079d82610c10565b600380546000908152600560209081526040808320855181558583015160018201558582015160028201556060860151948101949094556080850151600494850180546001600160a01b0319166001600160a01b039283161790556006548251630a1ef8f960e21b81529251969750939593169363287be3e4938282019392909190829003018186803b15801561083357600080fd5b505afa158015610847573d6000803e3d6000fd5b505050506040513d602081101561085d57600080fd5b5051602083015160408401519192506000916001600160a01b03841691635aac52f59161088f9163ffffffff610a2e16565b8d8d60405180838380828437808301925050509250505060405180910390206108be8860048151811061060057fe5b60001b8d8d6040518663ffffffff1660e01b815260040180868152602001858152602001848152602001806020018281038252848482818152602001925080828437600081840152601f19601f8201169050808301925050509650505050505050602060405180830381600087803b15801561093957600080fd5b505af115801561094d573d6000803e3d6000fd5b505050506040513d602081101561096357600080fd5b50516003546080850151602086810151604080890151895182519384529383015281810192909252905193945084936001600160a01b03909216917fba5de06d22af2685c6c7765f60067f7d2b08c2d29f53cdf14d67f6d1c9bfb5279181900360600190a46003546109dd9061271063ffffffff610a1516565b60035550506001600455505050505050505050565b6109fa6104d9565b610a0357600080fd5b610a0c81610d1e565b50565b60025481565b600082820183811015610a2757600080fd5b9392505050565b600082821115610a3d57600080fd5b50900390565b610a4b610fe1565b506040805180820190915281518152602082810190820152919050565b6060610a7382610d8c565b610a7c57600080fd5b6000610a8783610dc6565b9050606081604051908082528060200260200182016040528015610ac557816020015b610ab2610fe1565b815260200190600190039081610aaa5790505b5090506000610ad78560200151610e22565b60208601510190506000805b84811015610b2e57610af483610e85565b9150604051806040016040528083815260200184815250848281518110610b1757fe5b602090810291909101015291810191600101610ae3565b509195945050505050565b8051606090610b4757600080fd5b6000610b568360200151610e22565b83516040805191839003808352601f19601f8201168301602001909152919250606090828015610b8d576020820181803883390190505b5090506000816020019050610ba9848760200151018285610f1e565b50949350505050565b805160009015801590610bc757508151602110155b610bd057600080fd5b6000610bdf8360200151610e22565b83516020808601518301805193945091849003929190831015610ba957506020919091036101000a90049392505050565b610c18610fa6565b610c3582600081518110610c2857fe5b6020026020010151610f69565b6001600160a01b031660808201526003546000906127101015610c765760056000610c5e610514565b81526020019081526020016000206002015460010190505b610c868360018151811061060057fe5b8114610cd1576040805162461bcd60e51b8152602060048201526015602482015274494e434f52524543545f53544152545f424c4f434b60581b604482015290519081900360640190fd5b80826020018181525050610ceb8360028151811061060057fe5b60408301528251610d109084906003908110610d0357fe5b6020026020010151610f89565b825250426060820152919050565b6001600160a01b038116610d3157600080fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b8051600090610d9d5750600061046a565b6020820151805160001a9060c0821015610dbc5760009250505061046a565b5060019392505050565b8051600090610dd75750600061046a565b60008090506000610deb8460200151610e22565b602085015185519181019250015b80821015610e1957610e0a82610e85565b60019093019290910190610df9565b50909392505050565b8051600090811a6080811015610e3c57600091505061046a565b60b8811080610e57575060c08110801590610e57575060f881105b15610e6657600191505061046a565b60c0811015610e7a5760b51901905061046a565b60f51901905061046a565b80516000908190811a6080811015610ea05760019150610f17565b60b8811015610eb557607e1981019150610f17565b60c0811015610ee25760b78103600185019450806020036101000a85510460018201810193505050610f17565b60f8811015610ef75760be1981019150610f17565b60f78103600185019450806020036101000a855104600182018101935050505b5092915050565b80610f2857610f64565b5b60208110610f48578251825260209283019290910190601f1901610f29565b8251825160208390036101000a60001901801990921691161782525b505050565b8051600090601514610f7a57600080fd5b610f8382610bb2565b92915050565b8051600090602114610f9a57600080fd5b50602001516001015190565b6040518060a001604052806000801916815260200160008152602001600081526020016000815260200160006001600160a01b031681525090565b60405180604001604052806000815260200160008152509056fe554e415554484f52495a45445f4445504f5349545f4d414e414745525f4f4e4c59a265627a7a72315820a968891dd9f8af6da7cafce5eb22fccd9739eaa49952d96c82df62edfdda2fe464736f6c634300050b0032",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c8063b87e1b6611610071578063b87e1b661461018b578063d5b844eb14610193578063ec7e4855146101b1578063ec83d3ba146101b9578063f2fde38b146102cd578063fbc3dd36146102f3576100b4565b80632da25de3146100b957806341539d4a146100c35780635391f48314610114578063715018a6146101435780638da5cb5b1461014b5780638f32d59b1461016f575b600080fd5b6100c16102fb565b005b6100e0600480360360208110156100d957600080fd5b50356102fd565b6040805195865260208601949094528484019290925260608401526001600160a01b03166080830152519081900360a00190f35b6101316004803603602081101561012a57600080fd5b5035610335565b60408051918252519081900360200190f35b6100c161046f565b6101536104ca565b604080516001600160a01b039092168252519081900360200190f35b6101776104d9565b604080519115158252519081900360200190f35b6101316104ea565b61019b61050f565b6040805160ff9092168252519081900360200190f35b610131610514565b6100c1600480360360608110156101cf57600080fd5b8101906020810181356401000000008111156101ea57600080fd5b8201836020820111156101fc57600080fd5b8035906020019184600183028401116401000000008311171561021e57600080fd5b91939092909160208101903564010000000081111561023c57600080fd5b82018360208201111561024e57600080fd5b8035906020019184600183028401116401000000008311171561027057600080fd5b91939092909160208101903564010000000081111561028e57600080fd5b8201836020820111156102a057600080fd5b803590602001918460018302840111640100000000831117156102c257600080fd5b509092509050610531565b6100c1600480360360208110156102e357600080fd5b50356001600160a01b03166109f2565b610131610a0f565b565b60056020526000908152604090208054600182015460028301546003840154600490940154929391929091906001600160a01b031685565b6006546040805162c9effd60e41b815290516000926001600160a01b031691630c9effd0916004808301926020929190829003018186803b15801561037957600080fd5b505afa15801561038d573d6000803e3d6000fd5b505050506040513d60208110156103a357600080fd5b50516001600160a01b031633146103eb5760405162461bcd60e51b8152600401808060200182810382526021815260200180610ffc6021913960400191505060405180910390fd5b6104056004546103f9610514565b9063ffffffff610a1516565b60045490915061041b908363ffffffff610a1516565b6004819055612710101561046a576040805162461bcd60e51b8152602060048201526011602482015270544f4f5f4d414e595f4445504f5349545360781b604482015290519081900360640190fd5b919050565b6104776104d9565b61048057600080fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031690565b6000546001600160a01b0316331490565b6000600560006104f8610514565b815260200190815260200160002060020154905090565b600281565b60035460009061052c9061271063ffffffff610a2e16565b905090565b606061057a61057588888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610a4392505050565b610a68565b905060025461059c8260008151811061058f57fe5b6020026020010151610b39565b80519060200120146105eb576040805162461bcd60e51b815260206004820152601360248201527210da185a5b881251081a5cc81a5b9d985b1a59606a1b604482015290519081900360640190fd5b600260ff1661060d8260018151811061060057fe5b6020026020010151610bb2565b14610656576040805162461bcd60e51b8152602060048201526014602482015273159bdd19481d1e5c19481a5cc81a5b9d985b1a5960621b604482015290519081900360640190fd5b600283836040518083838082843760405192019450602093509091505080830381855afa15801561068b573d6000803e3d6000fd5b5050506040513d60208110156106a057600080fd5b505160408051602081810193909352815180820384018152908201909152805191012081516106d6908390600490811061058f57fe5b8051906020012014610727576040805162461bcd60e51b8152602060048201526015602482015274115e1d1c984819185d18481a5cc81a5b9d985b1a59605a1b604482015290519081900360640190fd5b606061076b61057585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610a4392505050565b905061078a8160008151811061077d57fe5b6020026020010151610a68565b9050610794610fa6565b61079d82610c10565b600380546000908152600560209081526040808320855181558583015160018201558582015160028201556060860151948101949094556080850151600494850180546001600160a01b0319166001600160a01b039283161790556006548251630a1ef8f960e21b81529251969750939593169363287be3e4938282019392909190829003018186803b15801561083357600080fd5b505afa158015610847573d6000803e3d6000fd5b505050506040513d602081101561085d57600080fd5b5051602083015160408401519192506000916001600160a01b03841691635aac52f59161088f9163ffffffff610a2e16565b8d8d60405180838380828437808301925050509250505060405180910390206108be8860048151811061060057fe5b60001b8d8d6040518663ffffffff1660e01b815260040180868152602001858152602001848152602001806020018281038252848482818152602001925080828437600081840152601f19601f8201169050808301925050509650505050505050602060405180830381600087803b15801561093957600080fd5b505af115801561094d573d6000803e3d6000fd5b505050506040513d602081101561096357600080fd5b50516003546080850151602086810151604080890151895182519384529383015281810192909252905193945084936001600160a01b03909216917fba5de06d22af2685c6c7765f60067f7d2b08c2d29f53cdf14d67f6d1c9bfb5279181900360600190a46003546109dd9061271063ffffffff610a1516565b60035550506001600455505050505050505050565b6109fa6104d9565b610a0357600080fd5b610a0c81610d1e565b50565b60025481565b600082820183811015610a2757600080fd5b9392505050565b600082821115610a3d57600080fd5b50900390565b610a4b610fe1565b506040805180820190915281518152602082810190820152919050565b6060610a7382610d8c565b610a7c57600080fd5b6000610a8783610dc6565b9050606081604051908082528060200260200182016040528015610ac557816020015b610ab2610fe1565b815260200190600190039081610aaa5790505b5090506000610ad78560200151610e22565b60208601510190506000805b84811015610b2e57610af483610e85565b9150604051806040016040528083815260200184815250848281518110610b1757fe5b602090810291909101015291810191600101610ae3565b509195945050505050565b8051606090610b4757600080fd5b6000610b568360200151610e22565b83516040805191839003808352601f19601f8201168301602001909152919250606090828015610b8d576020820181803883390190505b5090506000816020019050610ba9848760200151018285610f1e565b50949350505050565b805160009015801590610bc757508151602110155b610bd057600080fd5b6000610bdf8360200151610e22565b83516020808601518301805193945091849003929190831015610ba957506020919091036101000a90049392505050565b610c18610fa6565b610c3582600081518110610c2857fe5b6020026020010151610f69565b6001600160a01b031660808201526003546000906127101015610c765760056000610c5e610514565b81526020019081526020016000206002015460010190505b610c868360018151811061060057fe5b8114610cd1576040805162461bcd60e51b8152602060048201526015602482015274494e434f52524543545f53544152545f424c4f434b60581b604482015290519081900360640190fd5b80826020018181525050610ceb8360028151811061060057fe5b60408301528251610d109084906003908110610d0357fe5b6020026020010151610f89565b825250426060820152919050565b6001600160a01b038116610d3157600080fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b8051600090610d9d5750600061046a565b6020820151805160001a9060c0821015610dbc5760009250505061046a565b5060019392505050565b8051600090610dd75750600061046a565b60008090506000610deb8460200151610e22565b602085015185519181019250015b80821015610e1957610e0a82610e85565b60019093019290910190610df9565b50909392505050565b8051600090811a6080811015610e3c57600091505061046a565b60b8811080610e57575060c08110801590610e57575060f881105b15610e6657600191505061046a565b60c0811015610e7a5760b51901905061046a565b60f51901905061046a565b80516000908190811a6080811015610ea05760019150610f17565b60b8811015610eb557607e1981019150610f17565b60c0811015610ee25760b78103600185019450806020036101000a85510460018201810193505050610f17565b60f8811015610ef75760be1981019150610f17565b60f78103600185019450806020036101000a855104600182018101935050505b5092915050565b80610f2857610f64565b5b60208110610f48578251825260209283019290910190601f1901610f29565b8251825160208390036101000a60001901801990921691161782525b505050565b8051600090601514610f7a57600080fd5b610f8382610bb2565b92915050565b8051600090602114610f9a57600080fd5b50602001516001015190565b6040518060a001604052806000801916815260200160008152602001600081526020016000815260200160006001600160a01b031681525090565b60405180604001604052806000815260200160008152509056fe554e415554484f52495a45445f4445504f5349545f4d414e414745525f4f4e4c59a265627a7a72315820a968891dd9f8af6da7cafce5eb22fccd9739eaa49952d96c82df62edfdda2fe464736f6c634300050b0032",
  "sourceMap": "489:3682:38:-;;;646:5:39;655:48;;742:1;707:36;;810:166:38;5:2:-1;;;;30:1;27;20:12;5:2;810:166:38;;;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;810:166:38;;;;;;;;;;;;;;;;;;;19:11:-1;11:20;;8:2;;;44:1;41;34:12;8:2;62:21;;;;123:4;114:14;;138:31;;;135:2;;;182:1;179;172:12;135:2;213:10;;261:11;244:29;;285:43;;;282:58;-1:-1;233:115;230:2;;;361:1;358;351:12;230:2;372:25;;-1:-1;810:166:38;;420:4:-1;411:14;;;;810:166:38;;;;;411:14:-1;810:166:38;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;810:166:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;810:166:38;;;;515:6:73;:19;;-1:-1:-1;;;;;;515:19:73;524:10;515:19;;;;-1:-1:-1;;;;;582:6:73;;-1:-1:-1;515:6:73;-1:-1:-1;549:40:73;;-1:-1:-1;515:6:73;;549:40;882:8:38;:30;;-1:-1:-1;;;;;;882:30:38;-1:-1:-1;;;;;882:30:38;;;;;941:29;;;;;;;;;;;;;;;;;;;36:153:-1;66:2;61:3;58:11;36:153;;176:10;;164:23;;-1:-1;;139:12;;;;98:2;89:12;;;;114;36:153;;;274:1;267:3;263:2;259:12;254:3;250:22;246:30;315:4;311:9;305:3;299:10;295:26;356:4;350:3;344:10;340:21;389:7;380;377:20;372:3;365:33;3:399;;;941:29:38;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;941:29:38;;;931:40;;;;;;918:10;:53;;;;810:166;;489:3682;;;;;;",
  "deployedSourceMap": "489:3682:38:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;489:3682:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3048:65;;;:::i;:::-;;747:51:39;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;747:51:39;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;747:51:39;;;;;;;;;;;;;;2269:540:38;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2269:540:38;;:::i;:::-;;;;;;;;;;;;;;;;1423:137:73;;;:::i;659:77::-;;;:::i;:::-;;;;-1:-1:-1;;;;;659:77:73;;;;;;;;;;;;;;979:90;;;:::i;:::-;;;;;;;;;;;;;;;;;;2928:116:38;;;:::i;566:35:39:-;;;:::i;:::-;;;;;;;;;;;;;;;;;;;2813:111:38;;;:::i;980:1285::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;980:1285:38;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;980:1285:38;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;980:1285:38;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;980:1285:38;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;980:1285:38;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;980:1285:38;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;980:1285:38;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;980:1285:38;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;980:1285:38;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;-1:-1;980:1285:38;;-1:-1:-1;980:1285:38;-1:-1:-1;980:1285:38;:::i;1731:107:73:-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1731:107:73;-1:-1:-1;;;;;1731:107:73;;:::i;537:25:39:-;;;:::i;3048:65:38:-;:::o;747:51:39:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;747:51:39;;:::o;2269:540:38:-;710:8;;:35;;;-1:-1:-1;;;710:35:38;;;;2363:17;;-1:-1:-1;;;;;710:8:38;;:33;;:35;;;;;;;;;;;;;;:8;:35;;;5:2:-1;;;;30:1;27;20:12;5:2;710:35:38;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;710:35:38;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;710:35:38;-1:-1:-1;;;;;696:49:38;:10;:49;681:113;;;;-1:-1:-1;;;681:113:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2402:41;2427:15;;2402:20;:18;:20::i;:::-;:24;:41;:24;:41;:::i;:::-;2573:15;;2390:53;;-1:-1:-1;2573:32:38;;2593:11;2573:32;:19;:32;:::i;:::-;2555:15;:50;;;646:5:39;-1:-1:-1;2740:31:38;2611:193;;;;;-1:-1:-1;;;2611:193:38;;;;;;;;;;;;-1:-1:-1;;;2611:193:38;;;;;;;;;;;;;;;2269:540;;;:::o;1423:137:73:-;863:9;:7;:9::i;:::-;855:18;;;;;;1521:1;1505:6;;1484:40;;-1:-1:-1;;;;;1505:6:73;;;;1484:40;;1521:1;;1484:40;1551:1;1534:19;;-1:-1:-1;;;;;;1534:19:73;;;1423:137::o;659:77::-;697:7;723:6;-1:-1:-1;;;;;723:6:73;659:77;:::o;979:90::-;1019:4;1056:6;-1:-1:-1;;;;;1056:6:73;1042:10;:20;;979:90::o;2928:116:38:-;2979:7;3001:12;:34;3014:20;:18;:20::i;:::-;3001:34;;;;;;;;;;;:38;;;2994:45;;2928:116;:::o;566:35:39:-;600:1;566:35;:::o;2813:111:38:-;2885:16;;2863:7;;2885:34;;646:5:39;2885:34:38;:20;:34;:::i;:::-;2878:41;;2813:111;:::o;980:1285::-;1106:35;1144:25;:16;:4;;:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;1144:14:38;;-1:-1:-1;;;1144:16:38:i;:::-;:23;:25::i;:::-;1106:63;;1219:10;;1193:21;:8;1202:1;1193:11;;;;;;;;;;;;;;:19;:21::i;:::-;1183:32;;;;;;:46;1175:78;;;;;-1:-1:-1;;;1175:78:38;;;;;;;;;;;;-1:-1:-1;;;1175:78:38;;;;;;;;;;;;;;;600:1:39;1267:33:38;;:20;:8;1276:1;1267:11;;;;;;;;;;;;;;:18;:20::i;:::-;:33;1259:66;;;;;-1:-1:-1;;;1259:66:38;;;;;;;;;;;;-1:-1:-1;;;1259:66:38;;;;;;;;;;;;;;;1465:14;1472:6;;1465:14;;;;;30:3:-1;22:6;14;1:33;1465:14:38;;45:16:-1;;;-1:-1;1465:14:38;;-1:-1:-1;1465:14:38;;-1:-1:-1;;1465:14:38;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1465:14:38;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1465:14:38;1448:32;;;1465:14;1448:32;;;;;;;;;26:21:-1;;;22:32;;6:49;;1448:32:38;;;;;;1438:43;;;;;1412:11;;:21;;:8;;1421:1;;1412:11;;;;;:21;1402:32;;;;;;:79;1394:113;;;;;-1:-1:-1;;;1394:113:38;;;;;;;;;;;;-1:-1:-1;;;1394:113:38;;;;;;;;;;;;;;;1514:36;1553:27;:18;:6;;:16;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;1553:16:38;;-1:-1:-1;;;1553:18:38:i;:27::-;1514:66;;1598:21;:9;1608:1;1598:12;;;;;;;;;;;;;;:19;:21::i;:::-;1586:33;;1625:46;;:::i;:::-;1674:28;1692:9;1674:17;:28::i;:::-;1721:16;;;1708:30;;;;:12;:30;;;;;;;;:44;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;1708:44:38;-1:-1:-1;;;;;1708:44:38;;;;;;1866:8;;:33;;-1:-1:-1;;;1866:33:38;;;;1708:44;;-1:-1:-1;1708:30:38;;1866:8;;;:31;;:33;;;;1708:30;1866:33;;;;;;;;:8;:33;;;5:2:-1;;;;30:1;27;20:12;5:2;1866:33:38;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1866:33:38;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1866:33:38;;1973:17;;;1953:15;;;;1866:33;;-1:-1:-1;1906:15:38;;-1:-1:-1;;;;;1924:28:38;;;;;1953:38;;;:19;:38;:::i;:::-;2003:4;;1993:15;;;;;30:3:-1;22:6;14;1:33;57:3;49:6;45:16;35:26;;1993:15:38;;;;;;;;;;;;;2018:21;:9;2028:1;2018:12;;;;;;;:21;2010:30;;2042:4;;1924:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;1924:123:38;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1924:123:38;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1924:123:38;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1924:123:38;2096:16;;2074:20;;;;1924:123;2123:17;;;;2142:15;;;;;2159:16;;2059:117;;;;;;;;;;;;;;;;;;1924:123;;-1:-1:-1;1924:123:38;;-1:-1:-1;;;;;2059:117:38;;;;;;;;;;;;;2201:16;;:34;;646:5:39;2201:34:38;:20;:34;:::i;:::-;2182:16;:53;-1:-1:-1;;2259:1:38;2241:15;:19;-1:-1:-1;;;;;;;;;980:1285:38:o;1731:107:73:-;863:9;:7;:9::i;:::-;855:18;;;;;;1803:28;1822:8;1803:18;:28::i;:::-;1731:107;:::o;537:25:39:-;;;;:::o;1439:145:72:-;1497:7;1528:5;;;1551:6;;;;1543:15;;;;;;1576:1;1439:145;-1:-1:-1;;;1439:145:72:o;1211:::-;1269:7;1301:1;1296;:6;;1288:15;;;;;;-1:-1:-1;1325:5:72;;;1211:145::o;1446:218:89:-;1507:14;;:::i;:::-;-1:-1:-1;1629:28:89;;;;;;;;;1637:11;;1629:28;;1597:4;1587:15;;;1629:28;;;;1446:218;;;:::o;2443:508::-;2503:16;2539:12;2546:4;2539:6;:12::i;:::-;2531:21;;;;;;2563:10;2576:14;2585:4;2576:8;:14::i;:::-;2563:27;;2600:23;2640:5;2626:20;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;2600:46;;2657:11;2685:27;2700:4;:11;;;2685:14;:27::i;:::-;2671:11;;;;:41;;-1:-1:-1;2722:12:89;;2744:177;2765:5;2761:1;:9;2744:177;;;2801:19;2813:6;2801:11;:19::i;:::-;2791:29;;2846:24;;;;;;;;2854:7;2846:24;;;;2863:6;2846:24;;;2834:6;2841:1;2834:9;;;;;;;;;;;;;;;;;:36;2894:16;;;;2772:3;;2744:177;;;-1:-1:-1;2938:6:89;;2443:508;-1:-1:-1;;;;;2443:508:89:o;5222:431::-;5315:8;;5283:12;;5307:21;;;;;;5339:11;5353:27;5368:4;:11;;;5353:14;:27::i;:::-;5401:8;;5465:14;;;5401:17;;;;5465:14;;;-1:-1:-1;;5465:14:89;;;;;;;;;;;5339:41;;-1:-1:-1;5443:19:89;;5401:17;5465:14;;;;;;;21:6:-1;;104:10;5465:14:89;87:34:-1;135:17;;-1:-1;5465:14:89;;5443:36;;5490:12;5556:6;5550:4;5546:17;5535:28;;5583:40;5602:6;5588:4;:11;;;:20;5610:7;5619:3;5583:4;:40::i;:::-;-1:-1:-1;5640:6:89;5222:431;-1:-1:-1;;;;5222:431:89:o;4359:531::-;4443:8;;4419:4;;4443:12;;;;:30;;-1:-1:-1;4459:8:89;;4471:2;-1:-1:-1;4459:14:89;4443:30;4435:39;;;;;;4485:11;4499:27;4514:4;:11;;;4499:14;:27::i;:::-;4547:8;;4610:11;;;;;:20;;4673:13;;4485:41;;-1:-1:-1;4547:17:89;;;;;4673:13;4610:20;4761:11;;4758:2;;;-1:-1:-1;4826:2:89;4822:12;;;;4817:3;4813:22;4801:35;;;4359:531;-1:-1:-1;;;4359:531:89:o;3117:1052:38:-;3214:30;;:::i;:::-;3277:23;:8;3286:1;3277:11;;;;;;;;;;;;;;:21;:23::i;:::-;-1:-1:-1;;;;;3254:46:38;:20;;;:46;3697:16;;3481:22;;646:5:39;-1:-1:-1;3693:111:38;;;3755:12;:34;3768:20;:18;:20::i;:::-;3755:34;;;;;;;;;;;:38;;;3796:1;3755:42;3738:59;;3693:111;3842:20;:8;3851:1;3842:11;;;;;;;:20;3824:14;:38;3809:90;;;;;-1:-1:-1;;;3809:90:38;;;;;;;;;;;;-1:-1:-1;;;3809:90:38;;;;;;;;;;;;;;;3925:14;3905:11;:17;;:34;;;;;3963:20;:8;3972:1;3963:11;;;;;;;:20;3945:15;;;:38;4104:11;;:26;;:8;;4113:1;;4104:11;;;;;;;;;;;;:24;:26::i;:::-;4077:54;;-1:-1:-1;4161:3:38;4137:21;;;:27;4077:11;3117:1052;-1:-1:-1;3117:1052:38:o;1982:183:73:-;-1:-1:-1;;;;;2055:22:73;;2047:31;;;;;;2114:6;;;2093:38;;-1:-1:-1;;;;;2093:38:73;;;;2114:6;;;2093:38;;;2141:6;:17;;-1:-1:-1;;;;;;2141:17:73;-1:-1:-1;;;;;2141:17:73;;;;;;;;;;1982:183::o;3055:330:89:-;3135:8;;3115:4;;3131:31;;-1:-1:-1;3157:5:89;3150:12;;3131:31;3208:11;;;;3269:13;;3173:11;3261:22;;279:4;3307:24;;3303:54;;;3352:5;3345:12;;;;;;3303:54;-1:-1:-1;3374:4:89;;3055:330;-1:-1:-1;;;3055:330:89:o;5759:410::-;5840:8;;5820:4;;5836:27;;-1:-1:-1;5862:1:89;5855:8;;5836:27;5874:10;5887:1;5874:14;;5898:12;5927:27;5942:4;:11;;;5927:14;:27::i;:::-;5913:11;;;;5992:8;;5913:41;;;;-1:-1:-1;5978:22:89;6010:130;6027:6;6017:7;:16;6010:130;;;6068:20;6080:7;6068:11;:20::i;:::-;6122:7;;;;;6058:30;;;;6010:130;;;-1:-1:-1;6157:5:89;;5759:410;-1:-1:-1;;;5759:410:89:o;7558:538::-;7693:13;;7617:4;;7685:22;;187:4;7731:26;;7727:362;;;7779:1;7772:8;;;;;7727:362;233:4;7799:25;;;:83;;-1:-1:-1;279:4:89;7829:25;;;;;:52;;-1:-1:-1;325:4:89;7858:23;;7829:52;7795:294;;;7903:1;7896:8;;;;;7795:294;279:4;7923:24;;7919:170;;;-1:-1:-1;;7987:35:89;;-1:-1:-1;7980:42:89;;7919:170;-1:-1:-1;;8056:33:89;;-1:-1:-1;8049:40:89;;6218:1288;6372:13;;6274:4;;;;6364:22;;187:4;6410:26;;6406:1069;;;6460:1;6450:11;;6406:1069;;;233:4;6489:25;;6485:990;;;-1:-1:-1;;6538:30:89;;;-1:-1:-1;6485:990:89;;;279:4;6588:24;;6584:891;;;6681:4;6674:5;6670:16;6760:1;6752:6;6748:14;6738:24;;6915:7;6911:2;6907:16;6902:3;6898:26;6889:6;6883:13;6879:46;7012:1;7003:7;6999:15;6990:7;6986:29;6975:40;;6637:392;;;;;325:4;7058:23;;7054:421;;;-1:-1:-1;;7107:28:89;;;-1:-1:-1;7054:421:89;;;7229:4;7222:5;7218:16;7273:1;7265:6;7261:14;7251:24;;7344:7;7340:2;7336:16;7331:3;7327:26;7318:6;7312:13;7308:46;7448:1;7439:7;7435:15;7426:7;7422:29;7411:40;;7185:280;;;-1:-1:-1;7492:7:89;6218:1288;-1:-1:-1;;6218:1288:89:o;8250:697::-;8322:8;8318:21;;8332:7;;8318:21;8396:194;362:2;8403:16;;8396:194;;8493:10;;8480:24;;362:2;8532:16;;;;8562:17;;;;-1:-1:-1;;8421:16:89;8396:194;;;8772:10;;8843:11;;362:2;8700:15;;;8692:3;:24;-1:-1:-1;;8692:28:89;8784:9;;8768:26;;;8839:22;;8909:21;8896:35;;8739:202;;;;:::o;4162:191::-;4292:8;;4225:7;;4304:2;4292:14;4284:23;;;;;;4333:12;4340:4;4333:6;:12::i;:::-;4318:28;4162:191;-1:-1:-1;;4162:191:89:o;4927:289::-;5044:8;;4993:4;;5056:2;5044:14;5036:23;;;;;;-1:-1:-1;5105:11:89;;;5119:1;5105:15;5163:13;;4927:289::o;489:3682:38:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;489:3682:38;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o",
  "source": "pragma solidity ^0.5.2;\n\nimport { RLPReader } from \"solidity-rlp/contracts/RLPReader.sol\";\nimport { Ownable } from \"openzeppelin-solidity/contracts/ownership/Ownable.sol\";\nimport { SafeMath } from \"openzeppelin-solidity/contracts/math/SafeMath.sol\";\n\nimport { RootChainHeader, RootChainStorage } from \"./RootChainStorage.sol\";\nimport { IStakeManager } from \"../staking/IStakeManager.sol\";\nimport { IRootChain } from \"./IRootChain.sol\";\nimport { Registry } from \"../common/Registry.sol\";\n\n\ncontract RootChain is RootChainStorage, IRootChain {\n  using SafeMath for uint256;\n  using RLPReader for bytes;\n  using RLPReader for RLPReader.RLPItem;\n\n  modifier onlyDepositManager() {\n    require(\n      msg.sender == registry.getDepositManagerAddress(),\n      \"UNAUTHORIZED_DEPOSIT_MANAGER_ONLY\"\n    );\n    _;\n  }\n\n  constructor (address _registry, string memory _heimdallId) public {\n    registry = Registry(_registry);\n    heimdallId = keccak256(abi.encodePacked(_heimdallId));\n  }\n\n  function submitHeaderBlock(\n    bytes calldata vote,\n    bytes calldata sigs,\n    bytes calldata txData)\n    external\n  {\n    RLPReader.RLPItem[] memory dataList = vote.toRlpItem().toList();\n    require(keccak256(dataList[0].toBytes()) == heimdallId, \"Chain ID is invalid\");\n    require(dataList[1].toUint() == VOTE_TYPE, \"Vote type is invalid\");\n\n    // validate hash of txData was signed as part of the vote\n    require(keccak256(dataList[4].toBytes()) == keccak256(abi.encodePacked(sha256(txData))), \"Extra data is invalid\");\n\n    RLPReader.RLPItem[] memory extraData = txData.toRlpItem().toList();\n    extraData = extraData[0].toList();\n    RootChainHeader.HeaderBlock memory headerBlock = _buildHeaderBlock(extraData);\n    headerBlocks[_nextHeaderBlock] = headerBlock;\n    // check if it is better to keep it in local storage instead\n    IStakeManager stakeManager = IStakeManager(registry.getStakeManagerAddress());\n    uint256 _reward = stakeManager.checkSignatures(headerBlock.end.sub(headerBlock.start), keccak256(vote), bytes32(extraData[4].toUint()), sigs);\n\n    emit NewHeaderBlock(headerBlock.proposer, _nextHeaderBlock, _reward, headerBlock.start, headerBlock.end, headerBlock.root);\n    _nextHeaderBlock = _nextHeaderBlock.add(MAX_DEPOSITS);\n    _blockDepositId = 1;\n  }\n\n  function updateDepositId(uint256 numDeposits)\n    external\n    onlyDepositManager\n    returns(uint256 depositId)\n  {\n    depositId = currentHeaderBlock().add(_blockDepositId);\n    // deposit ids will be (_blockDepositId, _blockDepositId + 1, .... _blockDepositId + numDeposits - 1)\n    _blockDepositId = _blockDepositId.add(numDeposits);\n    require(\n      // Since _blockDepositId is initialized to 1; only (MAX_DEPOSITS - 1) deposits per header block are allowed\n      _blockDepositId <= MAX_DEPOSITS,\n      \"TOO_MANY_DEPOSITS\"\n    );\n  }\n\n  function currentHeaderBlock() public view returns(uint256) {\n    return _nextHeaderBlock.sub(MAX_DEPOSITS);\n  }\n\n  function getLastChildBlock() external view returns(uint256) {\n    return headerBlocks[currentHeaderBlock()].end;\n  }\n\n  function slash() external {\n    //TODO: future implementation\n  }\n\n  function _buildHeaderBlock(RLPReader.RLPItem[] memory dataList)\n    private\n    view\n    returns(HeaderBlock memory headerBlock)\n  {\n    headerBlock.proposer = dataList[0].toAddress();\n    // Is this required? Why does a proposer need to be the sender? Think validator relay networks\n    // require(msg.sender == dataList[0].toAddress(), \"Invalid proposer\");\n\n    uint256 nextChildBlock;\n    /*\n    The ID of the 1st header block is MAX_DEPOSITS.\n    if _nextHeaderBlock == MAX_DEPOSITS, then the first header block is yet to be submitted, hence nextChildBlock = 0\n    */\n    if (_nextHeaderBlock > MAX_DEPOSITS) {\n      nextChildBlock = headerBlocks[currentHeaderBlock()].end + 1;\n    }\n    require(\n      nextChildBlock == dataList[1].toUint(),\n      \"INCORRECT_START_BLOCK\"\n    );\n    headerBlock.start = nextChildBlock;\n    headerBlock.end = dataList[2].toUint();\n\n    // toUintStrict returns the encoded uint. Encoded data must be padded to 32 bytes.\n    headerBlock.root = bytes32(dataList[3].toUintStrict());\n    headerBlock.createdAt = now;\n  }\n}\n"
}
